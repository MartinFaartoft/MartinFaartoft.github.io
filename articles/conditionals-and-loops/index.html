<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>Conditionals and Loops - ftft
    </title>
    <link rel="alternate" href="http://ftft.dk/feed.xml" type="application/rss+xml" title="Writing things down so I don't have to remember">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic|Anonymous+Pro:400,700,400italic,700italic|Merriweather:400,700,300">
    <link rel="stylesheet" href="/css/main.css">
  </head>
  <body class="article-detail">
    <header class="header">
      <div class="content-wrap">
        <h1>Conditionals and Loops</h1>
        <p class="author">by <span class="author"><a href="mailto:martin.faartoft@gmail.com">Martin Faartoft</a></span>
        </p>
      </div>
    </header>
    <div id="content">
      <div class="content-wrap">
        <article class="article">
          <section class="content"><p>In which we look at flow control structures in&nbsp;Eiffel.</p>
<p><span class="more"></span></p>
<h2>Conditionals</h2>
<p><em>if</em> statements look and act just like you would&nbsp;expect</p>
<pre><code>if [some condition] then
    [statement]
elseif
    [statement]
else
    [statement]
end</code></pre>
<p>The <em>elseif</em> and <em>else</em> can be&nbsp;omitted</p>
<p><em>switch</em> </p>
<pre><code>inspect val
    when [val1] then [statement]
    when [val2, val3] then [statement] --Eiffel allows multiple values to trigger a single case
    else
        [default statement] --no matching &#39;when&#39; value found
    end</code></pre>
<h2>Loops</h2>
<p>Eiffel has two looping constructs, the <em>across</em> loop and the <em>from-until</em>&nbsp;loop.</p>
<h3>Across</h3>
<p>The <em>across</em> loop is a recent addition to the language, and provides a compact construct for iterating over a collection. The semantics of <em>across</em> is the same as the <em>foreach</em> loops known from both java and&nbsp;C#</p>
<p>example:</p>
<pre><code>across collection as cursor loop 
    print (cursor.item) 
end</code></pre>
<h3>From-until</h3>
<p>The <em>from-until</em> loop is the swiss army knife of Eiffel loops (and until recently the only Eiffel loop).
It takes up a lot of vertical screen space, but works just like you would&nbsp;expect.</p>
<pre><code>from
    i := 0 --initialize
until
    i = 10 --when do we stop looping?
loop
    print(i) --do something with i
    i := i + 1 --increment i
end</code></pre>
<p>or, looping over a collection of&nbsp;objects</p>
<pre><code>from
    sum := 0 ; collection.start --initialize
until
    collection.after --stop when our collection pointer points after the last element
loop
    print(collection.item)
    collection.forth --increment the collection pointer
end</code></pre>
<p>note that Eiffel has no keywords that interrupt program flow, such as <em>break</em> or <em>continue</em>. These can be simulated using boolean expressions and&nbsp;conditionals.</p>
<p>If Eiffel does not include your favorite looping construct, you can bash the from-until loop until it behaves like&nbsp;a</p>
<p><em>while</em>&nbsp;loop:</p>
<pre><code>from
    stop := false
until 
    stop = true
loop
    --do stuff
end</code></pre>
<p><em>do-while</em>&nbsp;loop:</p>
<pre><code>from
    stop := false
    --do stuff
until
    stop = true
loop
    --do stuff again
end</code></pre>
<p>… you get the&nbsp;idea.</p>
</section>
        </article>
      </div>
    </div>
    <footer>
      <div class="content-wrap">
        <div class="nav"><a href="/">« Back</a></div>
        <section class="about">
        </section>
        <section class="copy">
          <p>&copy; 2013 Martin Faartoft &mdash; powered by&nbsp;<a href="https://github.com/jnordberg/wintersmith">Wintersmith</a>
          </p>
        </section>
      </div>
    </footer>
    <script>
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-45055555-1']);
      _gaq.push(['_trackPageview']);
      
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>